<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/polymer/lib/elements/dom-if.html"><link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html"><link rel="import" href="../../bower_components/paper-button/paper-button.html"><link rel="import" href="../../bower_components/paper-styles/color.html"><link rel="import" href="../../bower_components/iron-icons/maps-icons.html"><link rel="import" href="../../bower_components/iron-icon/iron-icon.html"></head><body><dom-module id="ftree-member"><template><style>:host{display:inline;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}paper-button{border:medium solid #FDF3E7;font-size:100%;margin:1%;font-style:normal;}img{height:25px;width:25px;}*{margin:0px;padding:0px;}.ulfirst{background-image:url('/src/ftree-app/icon/sun.png');background-size:100px;background-repeat:no-repeat;}ul{display:inline-block;padding-top:20px;position:relative;white-space:nowrap;}li{vertical-align:top;display:inline-block;margin:0px;text-align:center;list-style-type:none;position:relative;padding:20px 5px 0px 5px;}li::before,li::after{content:"";position:absolute;top:0px;right:50%;border-top:3px solid #ccc;border-color:rgb(83, 49, 24);width:60%;height:20px;margin:0px;padding:0px;border-color:#3db83b;}li::after{right:auto;left:50%;border-left:3px solid #3db83b;border-color:rgb(83, 49, 24);border-color:#3db83b;}.onlychild{padding-top:0px;}.onlychild::before,.onlychild::after{display:none;}.fc::before{border-top:0 none;}.lc::after{border-top:0 none;}.childul::before{content:"";position:absolute;top:0px;right:50%;border-left:3px solid #ccc;width:0;height:20px;border-color:#3db83b;}li>div> a{text-align:center;display:inline-block;margin:0px;position:relative;left:0px;padding:10px 10px;background-color:#3db83b;border-style:solid;border-color:rgb(83, 49, 24);border-width:3px;border-radius:10px;box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);color:rgb(83, 49, 24);z-index:1;}li > div > a > span{padding:1px 3px;position:absolute;top:-20px;}li > div > a > img{position:relative;top:5px;border-style:solid;border-color:rgb(83, 49, 24);border-width:3px;border-radius:50%;}#pot >img{position:relative;top:-5px;right:0px;width:80px;height:auto;margin:0px auto;padding:0px;z-index:0;}</style><template is="dom-if" if="[[!ulhaveparent()]]" id="parent"><ul class="ulfirst"><template id="member" is="dom-repeat" items="[[memberlist]]"><li class$="[[liclass()]]" style="min-width:500px"><div><a parent$="[[me]]" on-click="showmember">[[item.name]]<template is="dom-if" if="[[item.spouse.name]]"><br><img src="/src/ftree-app/icon/marry.png"><br>[[item.spouse.name]]</template></a></div><template is="dom-if" if="[[havechild(item.c)]]"><ul class="childul"><template id="childrepeat" is="dom-repeat" items="[[objecttoarraychild(item.c)]]"><ftree-member member="[[member]]" master="[[returnfalse()]]" childindex="[[index]]" childnum="[[getchildnum()]]" countrf="{{countrf}}" eele="[[eele]]" users="[[users]]" me="[[item]]"></ftree-member></template></ul></template><template is="dom-if" if="[[islastele()]]"><div id="pot"><img src="/src/ftree-app/icon/pot.png"></div></template></li></template></ul></template><template is="dom-if" if="[[ulhaveparent()]]" id="noparent"><template id="member" is="dom-repeat" items="[[memberlist]]"><li class$="[[liclass()]]" style="min-width:0px"><div><a parent$="[[me]]" on-click="showmember">[[item.name]]<template is="dom-if" if="[[item.spouse.name]]"><br><img src="/src/ftree-app/icon/marry.png"><br>[[item.spouse.name]]</template></a></div><template is="dom-if" if="[[havechild(item.c)]]"><ul class="childul"><template id="childrepeat" is="dom-repeat" items="[[objecttoarraychild(item.c)]]"><ftree-member member="[[member]]" master="[[returnfalse()]]" childindex="[[index]]" childnum="[[getchildnum()]]" countrf="{{countrf}}" eele="[[eele]]" users="[[users]]" me="[[item]]"></ftree-member></template></ul></template><template is="dom-if" if="[[islastele()]]"><div id="pot"><img src="/src/ftree-app/icon/pot.png"></div></template></li></template></template></template><script>class ftreeMember extends Polymer.Element{static get is(){return'ftree-member'}static get properties(){return{users:{type:Object},member:{type:Object,observer:'fob'},memberlist:{type:Object,readonly:!0,observer:'mlob'},me:{type:String,value:null},memberchildlist:{type:Object,observer:'mcob'},master:{type:Boolean,value:!0},childnum:{type:Number,value:1},childindex:{type:Number,value:null},countr:{type:Number,value:0},countrf:{type:Object,value:null},eele:{type:Object,value:null}}}fob(a){var b=this;return null==a||'undefined'==typeof a[b.me]?(b.memberlist=[],!1):void(b.memberlist=[a[b.me]])}mlob(){}mcob(){}ready(){super.ready();var a=this;null==a.countrf&&(a.countrf={},a.countrf.st=function(){++a.countr},a.countrf.gt=function(){return a.countr})}showmember(a){var b=a.currentTarget,c=new CustomEvent('showmember',{detail:b});return null!=this.eele&&void this.eele.dispatchEvent(c)}objecttoarraychild(a){if(null==a||void 0==typeof a)return null;var b=[];for(var c in a)c in this.member&&b.push(c.toString());return this.memberchildlist=b,b}membername(a){var b=this,c=Object.keys(b.member);return 0<=c.indexOf(a)?b.member[a].name:'no child'}returnfalse(){return!1}liclass(){return 1==this.childnum?'onlychild':0==this.childindex?'fc':this.childindex==this.childnum-1?'lc':'  '}ulclass(){return null==this.childindex?'  ':'childul'}ulhaveparent(){return null!=this.childindex}getchildnum(){return this.memberchildlist.length}havechild(a){var b=this.objecttoarraychild(a);return null!=b&&!!(0<b.length)}islastele(a){this.countrf.st();var b=Object.keys(this.member).length;return!(b!=this.countrf.gt())&&('function'==typeof a&&a(),!0)}}window.customElements.define(ftreeMember.is,ftreeMember);</script></dom-module></body></html>