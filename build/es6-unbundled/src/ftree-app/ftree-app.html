<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/polymer/lib/elements/dom-if.html"><link rel="import" href="../../bower_components/paper-button/paper-button.html"><link rel="import" href="../../bower_components/paper-styles/color.html"><link rel="import" href="./welcome-page.html"><link rel="import" href="./ftree-manage.html"></head><body><dom-module id="ftree-app"><template><style>:host{display:block;background-color:#C63D0F;}.logout{background-color:#FDF3E7;position:fixed;top:10px;right:10px;z-index:1;}</style><template is="dom-if" if="{{users}}"><paper-button raised="true" class="logout" on-click="logout">Logout</paper-button><ftree-manage users="{{users}}"></ftree-manage></template><template is="dom-if" if="{{!users}}"><welcome-page users="{{users}}" on-loginaction="loginmethod"></welcome-page></template><span class="dummy" style="display:none"><img src="/src/ftree-app/icon/pot.png"> <img src="/src/ftree-app/icon/sun.png"> <img src="/src/ftree-app/icon/marry.png"> <img src="/src/ftree-app/icon/tree.png"></span></template><script src="https://www.gstatic.com/firebasejs/4.6.0/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/4.6.0/firebase-auth.js"></script><script src="https://www.gstatic.com/firebasejs/4.6.0/firebase-database.js"></script><script>var config={apiKey:"AIzaSyDJ-2tz0yCVRkJ84jRb3WR4JNLYiTT6F94",authDomain:"ftree-b702e.firebaseapp.com",databaseURL:"https://ftree-b702e.firebaseio.com",projectId:"ftree-b702e",storageBucket:"ftree-b702e.appspot.com",messagingSenderId:"303794074572"};firebase.initializeApp(config);class FtreeApp extends Polymer.Element{static get is(){return"ftree-app"}static get properties(){return{users:{type:Object,value:function(){return null},observer:"userschange"}}}userschange(){}ready(){super.ready(),self=this,firebase.auth().onAuthStateChanged(function(a){self.users=a?a:null}),setTimeout(function(){},0)}loginmethod(){console.log("login action from free-app"),self=this;var a=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(a).then(function(){}).catch(function(a){console.log("sign in error");var b=a.code,c=a.message,d=a.email,e=a.credential})}logout(){firebase.auth().signOut().then(function(){}).catch(function(){})}}window.customElements.define(FtreeApp.is,FtreeApp);</script></dom-module></body></html>